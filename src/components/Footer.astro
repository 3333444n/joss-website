---
import FacebookIcon from "../assets/icons/logo-facebook.svg";
import InstagramIcon from "../assets/icons/logo-instagram.svg";
import TiktokIcon from "../assets/icons/logo-tiktok.svg";
import WhatsappIcon from "../assets/icons/logo-whatsapp.svg";

const socialLinks = {
  facebook: "https://www.facebook.com/JossModoilusion",
  instagram: "https://www.instagram.com/jossortricks/",
  tiktok: "https://www.tiktok.com/@jossortricks",
  whatsapp: "https://wa.me/message/TY7H3W7U5TJ7H1",
};

const yearForCopyright = 2025; // As per the design image
---

<footer
  class="bg-black text-primary-y py-10 px-4 mt-auto border-t border-primary-y"
>
  <div
    class="container mx-auto flex flex-col items-center space-y-8 text-center"
  >
    <p class="text-lg font-medium">Sígueme en mis otros canales</p>

    <div class="flex items-center justify-center space-x-8">
      <a
        href={socialLinks.facebook}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Facebook"
        class="transition-opacity duration-300 hover:opacity-75"
      >
        <FacebookIcon class="w-7 h-7 fill-primary-y" />
      </a>
      <a
        href={socialLinks.instagram}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Instagram"
        class="transition-opacity duration-300 hover:opacity-75"
      >
        <InstagramIcon class="w-7 h-7 fill-primary-y" />
      </a>
      <a
        href={socialLinks.tiktok}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="TikTok"
        class="transition-opacity duration-300 hover:opacity-75"
      >
        <TiktokIcon class="w-7 h-7 fill-primary-y" />
      </a>
      <a
        href={socialLinks.whatsapp}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Whatsapp"
        class="transition-opacity duration-300 hover:opacity-75"
      >
        <WhatsappIcon class="w-7 h-7 fill-primary-y" />
      </a>
    </div>

    <a
      id="magic-link"
      href="https://qq1.us/18272"
      target="_blank"
      rel="noopener noreferrer"
      class="border border-primary-y text-primary-y rounded-full px-4 py-1 text-sm font-medium"
    >
      Built with <span class="magic-animation">Magic</span>
    </a>

    <p class="text-xs">
      Joss Ortiz © {yearForCopyright}. Todos los Derechos Reservados. Diseñado
      por Arko MKT.
    </p>
  </div>
</footer>

<script>
  const link = document.getElementById("magic-link") as HTMLAnchorElement;
  if (link) {
    link.addEventListener("click", (e) => {
      e.preventDefault();
      const href = link.href;
      setTimeout(() => {
        window.open(href, "_blank");
      }, 20000); // 20,000ms delay
    });
  }
</script>

<style>
  .magic-animation {
    /* Keep the text color inherited (primary-y) or set explicitly if needed, but 'glow' handles the rest */
    position: relative;
    z-index: 1;
    animation: magicGlow 1.5s ease-in-out infinite;
  }

  @keyframes magicGlow {
    0%,
    100% {
      text-shadow:
        0 0 10px rgba(255, 255, 255, 0.4),
        0 0 20px rgba(253, 224, 71, 0.2),
        0 0 30px rgba(255, 255, 255, 0.1);
    }
    50% {
      text-shadow:
        0 0 15px rgba(253, 224, 71, 0.8),
        0 0 30px rgba(255, 255, 255, 0.6),
        0 0 45px rgba(253, 224, 71, 0.4);
    }
  }
</style>
